# Task ID: 4
# Title: Renderer: integrate streaming UI and buffering
# Status: pending
# Dependencies: 3
# Priority: high
# Description: Adapt chat/editor to consume stream chunks, buffer safely, finalize completion, and handle errors/cancellations.
# Details:
Add a React hook/useGeminiStream for subscription; ensure UI state transitions match existing behavior; debounce renders.

# Test Strategy:
Integration: mount component and simulate chunked updates; ensure final text matches.

# Subtasks:
## 1. Create useGeminiStream hook [pending]
### Dependencies: None
### Description: Hook subscribes to `onGeminiResponse`, buffers chunks, exposes status and cancel.
### Details:


## 2. Integrate hook into chat/editor [pending]
### Dependencies: None
### Description: Replace OpenAI streaming usage with Gemini; preserve UX and keyboard shortcuts.
### Details:


## 3. Handle errors, cancel, and finalize state [pending]
### Dependencies: None
### Description: Ensure UI shows errors, allows cancellation, and finalizes on stream end.
### Details:


